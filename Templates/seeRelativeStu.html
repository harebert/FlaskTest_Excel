<!DOCTYPE html>
<html lang="en">
<head>
<style type="text/css">
.web_item {
	margin: 10px 0 10px 0;
}
.info-info {
	border: thin solid #336699;
	border-radius: 5px 5px 5px 5px;
}
.row {
	padding: 5px 5px 5px 5px
}
.button_wrap {
	padding: 5px 5px 5px 5px;
}
.table th, .table td {
	text-align: center;
	vertical-align: middle!important;
</style>
<!-- 最新版本的 Bootstrap 核心 CSS 文件 --> 

<script src="{{ url_for('static', filename="inc/jquery.min.js") }}"></script> 
<!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="{{ url_for('static', filename="inc/bootstrap.min.css") }}" >

<!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
<link rel="stylesheet" href="{{ url_for('static', filename="inc/bootstrap-theme.min.css") }}">

<!-- 最新的 Bootstrap 核心 JavaScript 文件 --> 
<script src="{{ url_for('static', filename="inc/bootstrap.min.js") }}"></script>
<link rel="stylesheet" href="{{ url_for('static', filename="inc/lightbox.css") }}">
<script src="{{ url_for('static', filename="inc/lightbox.js") }}"></script> 
<script>
	
	$(document).ready(function(){
		  $(".scoreBut").click(
				function(){
				var button=$(this)
				
				var id_=button.attr("id").split("_")[1]
				console.log("this is add"+ id_)
				var temp = document.createElement("form");
				 temp.action = "http://ai.sfls.cn:5050/seeRelative";
				 //temp.action = "http://localhost:5050/seeRelative";
				 temp.method = "post";
				 temp.style.display = "none";
				var params = {
						"id_":id_,
						"action":button.attr("id").split("_")[0]
						
					 };
				 for (var x in params) {
				  var opt = document.createElement("textarea");
				  opt.name = x;
				  opt.value = params[x];
				  temp.appendChild(opt);
				 }

				 document.body.appendChild(temp);
				 temp.submit();

				 return temp;
			 		
				}
		
		);

			$('#myModal').on('show.bs.modal', function (event) {
				  var button = $(event.relatedTarget) // Button that triggered the modal
				  var recipient = button.data('url') // Extract info from data-* attributes
				  var stu= button.data('stu')
				  console.log(recipient)
				  var modal = $(this)
				  modal.find('.modal-title').text(stu)
					//modal.find('.modal-body').text("<iframe width='500' height='440' frameborder='0' src='"+recipient+"'></iframe>")
				var iframe=$(this).find('.modal-body').find('.frame')
				iframe.attr("src",recipient)
//				iframe.setAttribute("src")=recipient
				iframe.attr("frameborder",'0')
				iframe.attr("width",'500')
				iframe.attr("height",'600')
				//$(this).find('.modal-body').append(iframe)
				var aLink=$(this).find('.modal-footer').find('.frameLink')
				aLink.attr("href",recipient)
				
				});
});

	
	</script>
<title>上外附中 人工智能学习资源平台</title>
</head>

<body>
{% include "inc/head.html" %}
<div class="row">
  <div class="col-xs-12 text-center">
    <div class="btn-group" role="group" aria-label="...">
      <button type="button" class="btn btn-default{%if contents.class_=='All'%} active{%endif%}" onClick="javascript:window.location.href='?class=All'">ALL</button>
      <button type="button" class="btn btn-default{%if contents.class_=='G6C2'%} active{%endif%}" onClick="javascript:window.location.href='?class=G6C2'">中预2班</button>
      <button type="button" class="btn btn-default{%if contents.class_=='G6C3'%} active{%endif%}" onClick="javascript:window.location.href='?class=G6C3'">中预3班</button>
      <button type="button" class="btn btn-default{%if contents.class_=='G6C7'%} active{%endif%}" onClick="javascript:window.location.href='?class=G6C7'">中预MYP</button>
    </div>
  </div>
</div>
<div class="row" >
  <div class=" col-xs-2"></div>
  <div class=" col-xs-8">
    <table class="table table-bordered table-hover">
      <thead>
        <tr>
          <th class="text-center">ID</th>
          <th class="text-center">班级</th>
          <th class="text-center">组员</th>
          <th class="text-center">递交时间</th>
          <th class="text-center">查看</th>
          <th class="text-center">得分</th>
        </tr>
      </thead>
      <tbody>
      
      {%for item in contents.success:%}
      <tr>
        <td class="text-center" valign="middle">{{item.id_}}</td>
        <td class="text-center" valign="middle">{{item.class_}}</td>
        <td class="text-center" valign="middle">{{item.stus_}}</td>
        <td class="text-center" valign="middle">{{item.date_}} {{item.time_}}</td>
        <td class="text-center" valign="middle"><button type="button" class="btn btn-default" data-toggle="modal" data-target="#myModal" data-url="{{item.Urls_}}" data-stu="{{item.class_}} - {{item.stus_}}">查看</button></td>
        <td class="text-center" valign="middle"><span class="label label-success">A:{{item.A}}</SPAN> <span class="label label-primary">B:{{item.B}}</SPAN> <span class="label label-info">C:{{item.C}}</SPAN> <span class="label label-warning">D:{{item.D}}</SPAN> <span class="label label-danger">E:{{item.E}}</SPAN> <span class="label label-default"> {{item.voteScore}} </SPAN></td>
      </tr>
      {%endfor%}
      </tbody>
      
    </table>
    
    <!--
    <div class="row">
      <div class="col-xs-2 text-center">ID</div>
      <div class="col-xs-2 text-center">班级</div>
      <div class="col-xs-2 text-center">组员</div>
      <div class="col-xs-2 text-center">递交时间</div>
      <div class="col-xs-1 text-center">查看</div>
      <div class="col-xs-3 text-center">得分</div>
    </div>
    {%for item in contents.success:%}
    <div class="row">
      <div class="col-xs-2 text-center">{{item.id_}}</div>
      <div class="col-xs-2 text-center">{{item.class_}}</div>
      <div class="col-xs-2 text-center">{{item.stus_}}</div>
      <div class="col-xs-2 text-center">{{item.date_}} {{item.time_}}</div>
      <div class="col-xs-1 text-center">
        <button type="button" class="btn btn-default" data-toggle="modal" data-target="#myModal" data-url="{{item.Urls_}}">查看</button>
      </div>
      <div class="col-xs-3 text-center"> <span class="label label-success">A:{{item.A}}</SPAN> <span class="label label-primary">B:{{item.B}}</SPAN> <span class="label label-info">C:{{item.C}}</SPAN> <span class="label label-warning">D:{{item.D}}</SPAN> <span class="label label-danger">E:{{item.E}}</SPAN> <span class="label label-default"> {{item.voteScore}} </SPAN> </div>
    </div>
    {%endfor%}
-->
    
    <div class="panel panel-default ">
      <div class="panel-heading text-center"><a data-toggle="collapse" href="#collapseFailedHomework" aria-expanded="false" aria-controls="collapseExample">
        <h3 class="panel-title"> 以下为未通过的作品</h3>
        </a> </div>
      <div class="panel-body collapse" id="collapseFailedHomework">
        <p class="text-danger text-center"><br>
          1.缺少元素（中文注释等）<br>
          2.注释过于啰嗦，导致链接无法打开<br>
          3.重复递交<br>
          以上小组请重新递交</p>
        {%for item in contents.failed:%}
        <div class="row">
          <div class="col-xs-2 text-center">{{item.id_}}</div>
          <div class="col-xs-2 text-center">{{item.class_}}</div>
          <div class="col-xs-2 text-center">{{item.stus_}}</div>
          <div class="col-xs-2 text-center">{{item.date_}} {{item.time_}}</div>
          <div class="col-xs-2 text-center">
            <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#myModal" disabled="disabled">查看</button>
          </div>
        </div>
        {%endfor%} </div>
    </div>
	  
	  
	 <div class="panel panel-default "> 
    <div class="panel-heading text-center"><a data-toggle="collapse" href="#collapseUnHomework" aria-expanded="false" aria-controls="collapseExample">
        <h3 class="panel-title"> 
      以下为未批阅作品，请等待审核：</h3>
        </a> </div>
		  <div class="panel-body collapse" id="collapseUnHomework">
    {%for item in contents.unknown:%}
    <div class="row">
      <div class="col-xs-2 text-center">{{item.id_}}</div>
      <div class="col-xs-2 text-center">{{item.class_}}</div>
      <div class="col-xs-2 text-center">{{item.stus_}}</div>
      <div class="col-xs-2 text-center">{{item.date_}} {{item.time_}}</div>
      <div class="col-xs-2 text-center">
        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#myModal" disabled="disabled">查看</button>
      </div>
    </div>
    {%endfor%} 
		 </div>
		 </div>
	
	</div>
  <div class=" col-xs-2"></div>
</div>
</body>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
        <iframe class="frame"></iframe>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <a href="#" class="btn btn-primary btn-md frameLink" role="button" target="_blank">新页面打开</a></div>
    </div>
  </div>
</div>
